---
layout: post
title:  "DNS"
date:   2023-02-27 20:23:10 +0800
categories: dns web
---

### 1. [How does the DNS lookup work?](https://blog.bytebytego.com/p/how-does-the-domain-name-system-dns?s=r)

> DNS acts as an address book. It translates human-readable domain names (google.com) to machine-readable IP addresses (142.251.46.238).
>
> To achieve better scalability, the DNS servers are organized in a hierarchical tree structure.
> There are 3 basic levels of DNS servers:
1. Root name server (.). It stores the IP addresses of Top Level Domain (TLD) name servers. There are 13 logical root name servers globally.
2. TLD name server. It stores the IP addresses of authoritative name servers. There are several types of TLD names. For example, generic TLD (.com, .org), country code TLD (.us), test TLD (.test).
3. Authoritative name server. It provides actual answers to the DNS query. You can register authoritative name servers with domain name registrar such as GoDaddy, Namecheap, etc. 
>
> The diagram below illustrates how DNS lookup works under the hood:

![How does the DNS lookup work](https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5dd6a922-eea7-49b3-aa1a-b1e21793a36a_1999x908.png)

1. google.com is typed into the browser, and the browser sends the domain name to the DNS resolver.
2. The resolver queries a DNS root name server.
3. The root server responds to the resolver with the address of a TLD DNS server. In this case, it is .com.
4. The resolver then makes a request to the .com TLD.
5. The TLD server responds with the IP address of the domain’s name server, google.com (authoritative name server).
6. The DNS resolver sends a query to the domain’s nameserver.
7. The IP address for google.com is then returned to the resolver from the nameserver.
8. The DNS resolver responds to the web browser with the IP address (142.251.46.238) of the domain requested initially.

> DNS lookups on average take between 20-120 milliseconds to complete (according to YSlow).

<br/>

---

<br/>

### 2. [What is DNS and How it works](https://foxutech.com/what-is-dns-and-how-it-works/)

> The Domain Name System provides mapping between human readable names (like www.google.com) and their associated IP addresses (like 192.168.0.161).
>
> How DNS works can be best compared to a phone book where you look up the phone numbers listed by easier-to-remember names.
> DNS comes under the application layer protocol.

![What is DNS and How it works](https://i0.wp.com/foxutech.com/wp-content/uploads/2017/09/How-DNS-works.png?w=670&ssl=1)

<br/>

#### ***1. Domain Name System Terminology***

<br/>

- **Domain Names**

A domain name is human readable name – like google.com – that we type in a web browser URL field. 
The Internet Corporation for Assigned Names and Numbers (ICANN) manages  these domain names

- **Top Level Domain (TLD)**

TLD refers to the last part of a domain name. 
For example, the .com in google.com is the Top level domain. 
The most common TLDs include .com, .net, org, and .info. 

Country code TLDs represent specific geographic locations. 
For example: .in represents India. Here are some more examples:

> - ***com*** – Commercial businesses.
> - ***gov*** – U.S. government agencies.
> - ***edu*** – Educational institutions such as universities.
> - ***org*** – Organizations (mostly non-profit).
> - ***mil*** – Military.
> - ***net*** – Network organizations.
> - ***eu*** – European Union.

- **Second level Domain**

This is the part of a domain name which comes right before the TLD, “google.com”, for example.

- **Sub Domain**

A sub domain can be created to identify unique content areas of a web site. 
For example, the cloud of www.google.com”.

- **Domain Name Registrar**

By managing domain name reservations, name registrars are critical to how DNS works. 
ICANN currently grants permission to organizations to act as domain name registrars for specific higher level domains.

- **Name Server**

Like a phone book, the name server is a collection of domain names matched to IP addresses.

<br/>

#### ***2. Domain Name System record types***

<br/>

- **A Record**

Address records (“A Records”) map server IP addresses to domain names. 
For example, 72.21.206.6 to google.com.

- **CNAME**

Canonical Name record. A CNAME record establishes one domain as an alias to another (thereby routing all traffic addressed to the alias to the target; the canonical address)

- **Alias Record**

Like a CNAME record, Alias records can be used to map one address to another. 
But Aliases can coexist with other records using the same name.

- **MX Record**

Mail Exchange Record. These records will redirect a domain’s email to the servers hosting the domain’s user accounts. 
Mail exchange records are used for determining the priority of email servers for a domain.

- **How DNS works**

When a user types a human-readable address in his browser, the operating system’s DNS client will check for information in a local cache. 
If the requested address isn’t there, it will look for a Domain Name System server in local area network (LAN). 
When the local DNS server receives the query and the requested domain name is found, it will return the result.